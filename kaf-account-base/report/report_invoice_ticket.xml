<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- QWeb Reports -->
        <template id="report_invoice_ticket">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-set="lang" t-value="o.invoice_user_id.sudo().lang if o.move_type in ('in_invoice', 'in_refund') else o.partner_id.lang"/>
                    <t t-call="kaf-ticket-base.kaf_ticket_layout_1" t-att-data-oe-model="o and o._name" t-att-data-oe-id="o and o.id" t-lang="lang">
                        <h5 style="text-align:center;"><t t-esc="o.journal_id.name" /></h5>
                        <h5 style="text-align:center;">
                            <t t-if="o.name" t-esc="o.name" style="text-align:center;"/>
                            <t t-else="" t-esc="o.move_name" style="text-align:center;"/>
                        </h5>
                        <hr style="width:100%;text-align:left;margin-left:0"/>
                        <h2>
                            <span t-if="o.move_type == 'out_invoice' and o.state == 'cancel'">Factura cancelada</span>
                        </h2>
                    </t>
                </t>
            </t>
        </template>
    </data>
</odoo>